apiVersion: v1alpha1
kind: Setting
metadata:
  name: theme-clarity-setting
spec:
  forms:
    - group: header
      label: ä¾§è¾¹æ å¤´éƒ¨
      formSchema:
        - $el: div
          attrs:
            class: "text-sm"
            style: |
              margin-bottom: 1rem;
              margin-top: -0.5rem;
              padding: 0.75rem 1rem;
              background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
              border-radius: 0.5rem;
              border: 1px solid #bae6fd;
          children:
            - $el: div
              attrs:
                style: |
                  display: flex;
                  align-items: center;
                  justify-content: space-between;
                  flex-wrap: wrap;
                  gap: 0.5rem;
              children:
                - $el: span
                  attrs:
                    style: "color: #0369a1;"
                  children: "ğŸ’¬ é‡åˆ°é—®é¢˜ï¼ŸåŠ å…¥ QQ ç¾¤ 766203360 è·å–å¸®åŠ©"
                - $el: div
                  attrs:
                    style: "display: flex; gap: 0.5rem;"
                  children:
                    - $el: a
                      attrs:
                        href: "https://qm.qq.com/q/mPJeUOtG5G"
                        target: "_blank"
                        style: |
                          color: #fff;
                          background: #0ea5e9;
                          padding: 0.25rem 0.75rem;
                          border-radius: 0.25rem;
                          text-decoration: none;
                          font-size: 0.75rem;
                      children: "åŠ å…¥ç¾¤èŠ"
                    - $el: button
                      attrs:
                        type: "button"
                        onclick: "navigator.clipboard.writeText('766203360').then(() => alert('å·²å¤åˆ¶'))"
                        style: |
                          color: #0369a1;
                          background: #fff;
                          padding: 0.25rem 0.75rem;
                          border-radius: 0.25rem;
                          border: 1px solid #7dd3fc;
                          cursor: pointer;
                          font-size: 0.75rem;
                      children: "å¤åˆ¶ç¾¤å·"
            - $el: a
              attrs:
                href: "https://docs.lik.cc"
                target: "_blank"
                style: |
                  display: inline-flex;
                  align-items: center;
                  color: #0369a1;
                  margin-top: 0.5rem;
                  font-size: 0.75rem;
              children:
                - $el: span
                  children: "ğŸ“– æŸ¥çœ‹ä¸»é¢˜æ–‡æ¡£"
                - $el: img
                  attrs:
                    src: "/themes/theme-clarity/assets/images/link.svg"
                    width: "12px"
                    height: "12px"
                    style: "margin-left: 4px; opacity: 0.7;"
        - $formkit: attachment
          name: logo
          label: Logo
          accepts:
            - "image/*"
        - $formkit: switch
          name: show_title
          id: show_title
          label: æ˜¾ç¤ºæ ‡é¢˜
          value: true
        - $formkit: text
          name: subtitle
          label: å‰¯æ ‡é¢˜
          value: "Just another Halo site"
          placeholder: ä¸€å¥è¯ä»‹ç»
          if: "$get(show_title).value === true"
        - $formkit: text
          name: emoji_tail
          label: Emoji å°¾å·´
          value: "ğŸ“„,ğŸ¦Œ,ğŸ™Œ,ğŸŸ,ğŸ–ï¸"
          help: ä½¿ç”¨è‹±æ–‡é€—å·åˆ†éš”ï¼Œä¾‹å¦‚ï¼šğŸ“„,ğŸ¦Œ,ğŸ™Œ,ğŸŸ,ğŸ–ï¸
          if: "$get(show_title).value === true"
        - $formkit: menuRadio
          name: primary_menu
          label: ä¸»å¯¼èˆªèœå•
          help: ä¸é€‰æ‹©åˆ™ä¸æ˜¾ç¤ºå¯¼èˆªèœå•
        - $formkit: switch
          name: userAuth
          id: userAuth
          key: userAuth
          label: ç”¨æˆ·ç™»å½•
          help: ä¸é€‰æ‹©åˆ™ä¸æ˜¾ç¤ºç”¨æˆ·ç™»å½•
          value: true
    - group: style
      label: æ ·å¼è®¾ç½®
      formSchema:
        - $formkit: color
          name: primary_color
          label: ä¸»é…è‰²
          value: "#3b82f6"
          help: ç”¨äºæŒ‰é’®ã€é“¾æ¥ã€é«˜äº®ç­‰ä¸»è¦å…ƒç´ 
          validation: required
        - $formkit: color
          name: accent_color
          label: è¾…é…è‰²
          value: "#60a5fa"
          help: ç”¨äºæ¬¡è¦é«˜äº®ã€æ‚¬åœçŠ¶æ€ç­‰
          validation: required
        - $formkit: code
          name: logo_font_css
          label: Logo å­—ä½“æ ·å¼
          language: css
          height: 150px
          help: å¡«å†™ @font-face ä»£ç ï¼Œfont-family å¿…é¡»æ”¹ä¸º "Logo Font"ï¼ˆå¦‚é˜¿é‡Œå¦ˆå¦ˆæ–¹åœ†ä½“éœ€å°†åŸ font-family å€¼æ›¿æ¢ï¼‰ï¼Œç•™ç©ºåˆ™ä½¿ç”¨ç³»ç»Ÿå­—ä½“ï¼ˆè‹¹æ–¹/å¾®è½¯é›…é»‘ï¼‰
        - $formkit: select
          name: page_transition
          label: é¡µé¢åˆ‡æ¢åŠ¨ç”»
          value: fade-scale
          help: é¡µé¢è·³è½¬æ—¶çš„è¿‡æ¸¡åŠ¨ç”»æ•ˆæœï¼ˆä»… Chrome 126+ æ”¯æŒï¼‰
          options:
            - value: fade-scale
              label: æ·¡å…¥æ·¡å‡º + ç¼©æ”¾
            - value: sweep
              label: é»‘å¹•æ‰«å…‰
            - value: none
              label: æ— åŠ¨ç”»
        - $formkit: switch
          name: nav_active_indicator
          label: èœå•æ¿€æ´»æŒ‡ç¤ºå™¨
          value: true
          help: é«˜äº®æ˜¾ç¤ºå½“å‰é¡µé¢å¯¹åº”çš„ä¾§è¾¹æ èœå•é¡¹
        - $formkit: switch
          name: show_post_author
          label: æ˜¾ç¤ºæ–‡ç« ä½œè€…
          value: true
          help: åœ¨é¦–é¡µæ–‡ç« å¡ç‰‡ä¸­æ˜¾ç¤ºä½œè€…å¤´åƒå’Œåç§°
        - $formkit: switch
          name: switch_category_layout
          label: åˆ‡æ¢åˆ†ç±»æ–‡ç« æ ·å¼å¸ƒå±€
          value: false
          help: åˆ‡æ¢åˆ†ç±»é¡µé¢çš„æ–‡ç« åˆ—è¡¨æ ·å¼å¸ƒå±€
        - $formkit: switch
          name: switch_tag_layout
          label: åˆ‡æ¢æ ‡ç­¾æ–‡ç« æ ·å¼å¸ƒå±€
          value: false
          help: åˆ‡æ¢æ ‡ç­¾é¡µé¢çš„æ–‡ç« åˆ—è¡¨æ ·å¼å¸ƒå±€
        - $formkit: radio
          name: theme_mode
          id: theme_mode
          label: ä¸»é¢˜é»˜è®¤æ¨¡å¼
          value: light
          options:
            - value: light
              label: æµ…è‰²æ¨¡å¼
            - value: dark
              label: æ·±è‰²æ¨¡å¼
            - value: system
              label: è·Ÿéšç³»ç»Ÿ
    - group: footer
      label: é¡µè„š & ç¤¾äº¤
      formSchema:
        - $el: div
          attrs:
            class: "text-sm"
            style: |
              margin-bottom: 1rem;
              padding: 0.75rem 1rem;
              background: #fef3c7;
              border-radius: 0.5rem;
              border: 1px solid #fcd34d;
          children:
            - $el: div
              attrs:
                style: |
                  display: flex;
                  align-items: center;
                  justify-content: space-between;
                  flex-wrap: wrap;
                  gap: 0.5rem;
              children:
                - $el: span
                  attrs:
                    style: "color: #92400e;"
                  children: "ğŸ”§ å‡çº§æç¤ºï¼šå¦‚æœå‡çº§ä¸»é¢˜åå‡ºç°ç™½å±ã€æŠ¥é”™æˆ–å›¾æ ‡ä¸æ˜¾ç¤ºï¼Œè¯·ç‚¹å‡»æ¸…ç†å°è¯•ä¿®å¤"
                - $el: button
                  attrs:
                    type: "button"
                    style: |
                      color: #fff;
                      background: #f59e0b;
                      padding: 0.25rem 0.75rem;
                      border-radius: 0.25rem;
                      border: none;
                      cursor: pointer;
                      font-size: 0.75rem;
                    onclick: |
                      (async function(){
                        if(!confirm('ç¡®å®šè¦æ¸…ç†æ—§æ ¼å¼çš„å›¾æ ‡æ•°æ®å—ï¼Ÿå°†æ¸…ç†ï¼šé¡µè„šé“¾æ¥ã€èœå•ã€åˆ†ç±»çš„æ—§å›¾æ ‡ã€‚')) return;
                        let total = 0;
                        try {
                          // 1. æ¸…ç† ConfigMap ä¸­çš„é¡µè„šå›¾æ ‡
                          const res = await fetch('/api/v1alpha1/configmaps/theme-clarity-configMap');
                          const cm = await res.json();
                          if(cm.data.footer) {
                            const f = JSON.parse(cm.data.footer);
                            ['explore.links','links.items','social.items'].forEach(p => {
                              const ps = p.split('.');
                              let a = f;
                              for(const k of ps) a = a?.[k];
                              if(Array.isArray(a)) a.forEach(i => { if(typeof i.icon === 'string'){ delete i.icon; total++; }});
                            });
                            cm.data.footer = JSON.stringify(f);
                            await fetch('/api/v1alpha1/configmaps/theme-clarity-configMap', {
                              method: 'PUT',
                              headers: {'Content-Type': 'application/json'},
                              body: JSON.stringify(cm)
                            });
                          }
                          // 2. æ¸…ç†èœå•é¡¹ icon
                          const menuRes = await fetch('/api/v1alpha1/menuitems');
                          const menus = await menuRes.json();
                          for(const item of menus.items || []) {
                            const icon = item.metadata?.annotations?.icon;
                            if(icon && typeof icon === 'string' && !icon.startsWith('{')) {
                              delete item.metadata.annotations.icon;
                              await fetch('/api/v1alpha1/menuitems/' + item.metadata.name, {
                                method: 'PUT',
                                headers: {'Content-Type': 'application/json'},
                                body: JSON.stringify(item)
                              });
                              total++;
                            }
                          }
                          // 3. æ¸…ç†åˆ†ç±» icon
                          const catRes = await fetch('/apis/content.halo.run/v1alpha1/categories');
                          const cats = await catRes.json();
                          for(const cat of cats.items || []) {
                            const icon = cat.metadata?.annotations?.categoryIicon;
                            if(icon && typeof icon === 'string' && !icon.startsWith('{')) {
                              delete cat.metadata.annotations.categoryIicon;
                              await fetch('/apis/content.halo.run/v1alpha1/categories/' + cat.metadata.name, {
                                method: 'PUT',
                                headers: {'Content-Type': 'application/json'},
                                body: JSON.stringify(cat)
                              });
                              total++;
                            }
                          }
                          if(total > 0) {
                            alert('å·²æ¸…ç† ' + total + ' ä¸ªæ—§å›¾æ ‡ï¼Œè¯·åˆ·æ–°é¡µé¢åé‡æ–°é…ç½®');
                            location.reload();
                          } else {
                            alert('æ²¡æœ‰éœ€è¦æ¸…ç†çš„æ—§å›¾æ ‡æ•°æ®');
                          }
                        } catch(e) { alert('æ¸…ç†å¤±è´¥: ' + e.message); }
                      })();
                  children: "æ¸…ç†æ—§å›¾æ ‡"
        - $formkit: group
          name: explore
          label: æ¢ç´¢
          help: é…ç½®é¡µè„šå·¦ä¾§"æ¢ç´¢"æ ç›®
          children:
            - $formkit: text
              name: title
              label: æ ç›®æ ‡é¢˜
              value: æ¢ç´¢
              validation: required
            - $formkit: switch
              name: show_rss
              id: show_rss
              label: æ˜¾ç¤º RSS è®¢é˜…
              value: true
            - $formkit: text
              name: rss_url
              label: RSS åœ°å€
              value: /rss.xml
              placeholder: /rss.xml
              if: "$get(show_rss).value === true"
              validation: required
            - $formkit: switch
              name: show_travellings
              label: æ˜¾ç¤ºå¼€å¾€
              value: true
              help: å¼€å¾€æ˜¯ä¸€ä¸ªå‹é“¾æ¥åŠ›é¡¹ç›®
            - $formkit: array
              name: links
              label: è‡ªå®šä¹‰æ¢ç´¢é“¾æ¥
              value: []
              itemLabels:
                - type: image
                  label: $value.icon.value
                - type: text
                  label: $value.text
              children:
                - $formkit: iconify
                  name: icon
                  label: å›¾æ ‡
                  format: dataurl
                - $formkit: text
                  name: text
                  label: æ–‡æœ¬
                  placeholder: æˆ‘çš„é“¾æ¥
                  validation: required
                - $formkit: url
                  name: url
                  label: é“¾æ¥
                  placeholder: https://example.com
                  validation: required

        - $formkit: group
          name: links
          label: é¡µè„šé“¾æ¥
          help: é…ç½®é¡µè„šä¸­é—´è‡ªå®šä¹‰æ ç›®
          children:
            - $formkit: text
              name: title
              label: æ ç›®æ ‡é¢˜
              value: é“¾æ¥
              validation: required
            - $formkit: array
              name: items
              label: é“¾æ¥åˆ—è¡¨
              value: []
              itemLabels:
                - type: image
                  label: $value.icon.value
                - type: text
                  label: $value.text
              children:
                - $formkit: iconify
                  name: icon
                  label: å›¾æ ‡
                  format: dataurl
                - $formkit: text
                  name: text
                  label: æ–‡æœ¬
                  placeholder: æˆ‘çš„é“¾æ¥
                  validation: required
                - $formkit: url
                  name: url
                  label: é“¾æ¥
                  placeholder: https://example.com
                  validation: required

        - $formkit: group
          name: social
          label: ä¾§è¾¹æ ç¤¾äº¤
          help: é…ç½®ä¾§è¾¹æ åº•éƒ¨çš„ç¤¾äº¤å›¾æ ‡
          children:
            - $formkit: array
              name: items
              label: ç¤¾äº¤å›¾æ ‡
              value: []
              itemLabels:
                - type: image
                  label: $value.icon.value
                - type: text
                  label: $value.text
              children:
                - $formkit: iconify
                  name: icon
                  label: å›¾æ ‡
                  format: dataurl
                  validation: required
                - $formkit: text
                  name: text
                  label: æè¿°
                  placeholder: GitHub
                  validation: required
                - $formkit: url
                  name: url
                  label: é“¾æ¥
                  placeholder: https://github.com
                  validation: required

        - $formkit: text
          name: beian
          label: ICP å¤‡æ¡ˆå·
          placeholder: é™•ICPå¤‡2025082251å·
        - $formkit: text
          name: gongan_beian
          label: å…¬å®‰å¤‡æ¡ˆå·
          placeholder: é™•å…¬ç½‘å®‰å¤‡61010302001234å·
        - $formkit: switch
          name: enable_uptime_kuma
          id: enable_uptime_kuma
          label: å¯ç”¨ Uptime Kuma çŠ¶æ€ç›‘æ§
          value: false
          help: åœ¨é¡µè„šæ˜¾ç¤ºç«™ç‚¹çŠ¶æ€ç›‘æ§
        - $el: div
          if: "$get(enable_uptime_kuma).value === true"
          attrs:
            class: "text-sm"
            style: |
              display: inline-block;
              margin-top: 0.5rem;
              padding: 0.5rem 0.75rem;
              background: #fffbeb;
              border-radius: 0.375rem;
              border: 1px solid #fcd34d;
          children:
            - $el: span
              attrs:
                style: "color: #92400e;"
              children: "âš ï¸ éœ€è¦å®‰è£… "
            - $el: a
              attrs:
                href: "https://www.halo.run/store/apps/app-rtnbbgfk"
                target: "_blank"
                style: |
                  color: #d97706;
                  text-decoration: underline;
              children: "æ•°æ®çœ‹æ¿æ’ä»¶"
            - $el: span
              attrs:
                style: "color: #92400e;"
              children: " å¹¶é…ç½® Uptime Kuma"
    - group: aside
      label: å³ä¾§è¾¹æ 
      formSchema:
        - $formkit: group
          name: widgets
          label: å°ç»„ä»¶é…ç½®
          help: æ‹–æ‹½è°ƒæ•´é¡ºåºï¼Œè¶Šé å‰ä¼˜å…ˆçº§è¶Šé«˜
          children:
            - $formkit: array
              name: index
              label: é¦–é¡µä¾§è¾¹æ 
              itemLabels:
                - type: text
                  label: $value.widget
              value:
                - widget: "stats"
                - widget: "tech-info"
                - widget: "community"
              children:
                - $formkit: select
                  name: widget
                  label: å°ç»„ä»¶
                  options:
                    - value: "stats"
                      label: åšå®¢ç»Ÿè®¡
                    - value: "tech-info"
                      label: æŠ€æœ¯ä¿¡æ¯
                    - value: "weather"
                      label: å¤©æ°”é¢„æŠ¥
                    - value: "moments"
                      label: å¾®è¯­
                    - value: "community"
                      label: ç¤¾åŒºç¾¤ç»„
                    - value: "sponsor"
                      label: äº‘è®¡ç®—æ”¯æŒ
                    - value: "custom"
                      label: è‡ªå®šä¹‰
                - $formkit: text
                  name: moments_title
                  label: æ ‡é¢˜
                  value: "å¾®è¯­"
                  placeholder: å¾®è¯­
                  if: "$value.widget === 'moments'"
                - $formkit: number
                  name: count
                  label: æ˜¾ç¤ºæ¡æ•°
                  value: 3
                  min: 1
                  max: 10
                  if: "$value.widget === 'moments'"
                - $formkit: text
                  name: moments_no_text
                  label: æ–‡æ¡ˆ
                  value: ""
                  help: å½“å¾®è¯­æ— æ–‡å­—æ—¶æ˜¾ç¤ºçš„æ–‡æ¡ˆï¼Œå¯ä¸ºç©ºã€‚ä¸ºç©ºæ—¶é»˜è®¤æ˜¾ç¤ºâ€œæ­¤+{å¾®è¯­æ ‡é¢˜}+æ— æ–‡å­—ï¼Œè¯·ç‚¹å‡»æŸ¥çœ‹ã€‚â€
                  if: "$value.widget === 'moments'"
                - $formkit: text
                  name: title
                  label: è‡ªå®šä¹‰æ ‡é¢˜
                  if: "$value.widget === 'custom'"
                  placeholder: å°ç»„ä»¶æ ‡é¢˜
                - $formkit: textarea
                  name: content
                  label: è‡ªå®šä¹‰å†…å®¹
                  if: "$value.widget === 'custom'"
                  placeholder: æ”¯æŒ HTML
                  rows: 5
        - $formkit: group
          name: basic
          label: åŸºç¡€è®¾ç½®
          children:
            - $formkit: date
              name: site_start_time
              label: å»ºç«™æ—¶é—´
              value: "2024-01-01"
              help: ç”¨äºè®¡ç®—è¿è¥æ—¶é•¿
              validation: required
            - $formkit: text
              name: image_hosting
              label: å›¾ç‰‡å­˜å‚¨æœåŠ¡
              value: "æœ¬åœ°å­˜å‚¨"
            - $formkit: text
              name: license
              label: è®¸å¯åè®®åç§°
              value: "ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…"
              validation: required
            - $formkit: url
              name: license_url
              label: è®¸å¯åè®®é“¾æ¥
              value: "https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans"
              validation: required
        - $formkit: group
          name: community
          label: ç¤¾åŒºç¾¤ç»„å¡ç‰‡
          children:
            - $formkit: attachment
              name: image
              label: èƒŒæ™¯å›¾
              accepts:
                - "image/*"
            - $formkit: text
              name: title
              label: å°æ ‡é¢˜
              value: "åšå®¢/æŠ€æœ¯ç¤¾åŒº"
            - $formkit: text
              name: name
              label: ç¾¤ç»„åç§°
              value: "æŠ€æœ¯äº¤æµç¾¤"
            - $formkit: text
              name: desc
              label: æè¿°
              value: "169994096"
              help: "ä¾‹å¦‚ QQ ç¾¤å·"
        - $formkit: group
          name: sponsor
          label: äº‘è®¡ç®—æ”¯æŒå¡ç‰‡
          children:
            - $formkit: text
              name: title
              label: æ ‡é¢˜
              value: "äº‘è®¡ç®—æ”¯æŒ"
            - $formkit: attachment
              name: logo
              label: Logo å›¾ç‰‡
              accepts:
                - "image/*"
            - $formkit: text
              name: name
              label: åç§°
              value: "é€Ÿçº³äº‘è®¡ç®—"
            - $formkit: url
              name: url
              label: é“¾æ¥
              placeholder: "https://example.com"
            - $formkit: text
              name: desc
              label: æè¿°
              value: "æä¾›äº‘è®¡ç®—æœåŠ¡"
              help: "æ˜¾ç¤ºåœ¨åç§°ä¸‹æ–¹çš„è¯´æ˜æ–‡å­—"
        - $formkit: group
          name: weather
          label: å¤©æ°”ç»„ä»¶é…ç½®
          children:
            - $formkit: text
              name: seniverse_key
              label: å¿ƒçŸ¥å¤©æ°” API Key
              placeholder: è¯·è¾“å…¥å¿ƒçŸ¥å¤©æ°” API Key
              help: "å‰å¾€ https://www.seniverse.com æ³¨å†Œè·å–ï¼Œå…è´¹ç‰ˆå³å¯ï¼Œè‡ªåŠ¨æ ¹æ®è®¿å®¢ IP å®šä½"
    - group: post
      label: æ–‡ç« 
      formSchema:
        - $formkit: postSelect
          name: featured_posts
          label: ç²¾é€‰æ–‡ç« 
          multiple: true
          help: é€‰æ‹©è¦åœ¨é¦–é¡µè½®æ’­å±•ç¤ºçš„æ–‡ç« 
        - $formkit: switch
          name: featured_posts_page
          id: featured_posts_page
          key: featured_posts_page
          label: ç²¾é€‰æ–‡ç« ä»…æ˜¾ç¤ºåœ¨é¦–é¡µ
          value: true
          help: å¯ç”¨åï¼Œç²¾é€‰æ–‡ç« ä»…åœ¨é¦–é¡µæ˜¾ç¤º
        - $formkit: number
          name: per_page
          label: æ¯é¡µæ–‡ç« æ•°
          help: å·²å¤±æ•ˆï¼Œè¯·ä½¿ç”¨è®¾ç½®-æ–‡ç« è®¾ç½®-æ–‡ç« åˆ—è¡¨æ˜¾ç¤ºæ¡æ•°è¿›è¡Œé…ç½®
        - $formkit: radio
          name: cursor
          id: cursor
          label: ä¸Šä¸‹é¡µæ’åº
          value: true
          help: å€’åºï¼šä»æ—§åˆ°æ–°ï¼›æ­£åºï¼šä»æ–°åˆ°æ—§ã€‚
          options:
            - value: true
              label: å€’åº
            - value: false
              label: æ­£åº
        - $formkit: switch
          name: default_cover
          id: default_cover
          label: å¯ç”¨é»˜è®¤å°é¢å›¾
          value: true
          help: å½“æ–‡ç« æ— å°é¢å›¾æ—¶ï¼Œæ˜¾ç¤ºç°è‰²èƒŒæ™¯+æ–‡ç« æ ‡é¢˜ä½œä¸ºé»˜è®¤å°é¢
        - $formkit: switch
          name: center_title
          id: center_title
          label: æ ‡é¢˜å±…ä¸­æ˜¾ç¤º
          value: false
          help: å¼€å¯åæ–‡ç« å’Œé¡µé¢çš„æ ‡é¢˜å°†å±…ä¸­æ˜¾ç¤º
        - $formkit: switch
          name: show_excerpt
          id: show_excerpt
          label: æ˜¾ç¤ºæ–‡ç« æ‘˜è¦æ¡†
          value: true
          help: å…³é—­åæ–‡ç« é¡µé¡¶éƒ¨ä¸å†æ˜¾ç¤ºæ‘˜è¦æ¡†
        - $el: div
          if: "$get(show_excerpt).value === true"
          attrs:
            class: "text-sm"
            style: |
              display: inline-block;
              margin-top: 0.5rem;
              padding: 0.5rem 0.75rem;
              background: #fffbeb;
              border-radius: 0.375rem;
              border: 1px solid #fcd34d;
          children:
            - $el: span
              attrs:
                style: "color: #92400e;"
              children: "ğŸ’¡ å·²é€‚é… "
            - $el: a
              attrs:
                href: "https://www.halo.run/store/apps/app-OWBzA"
                target: "_blank"
                style: |
                  color: #d97706;
                  text-decoration: underline;
              children: "æ™ºé˜…GPT AIæ‘˜è¦æ’ä»¶"
            - $el: span
              attrs:
                style: "color: #92400e;"
              children: "ï¼Œå®‰è£…åè‡ªåŠ¨æ˜¾ç¤ºAIç”Ÿæˆçš„æ‘˜è¦"
        - $formkit: group
          name: excerpt
          label: æ‘˜è¦åŠ¨ç”»
          if: "$get(show_excerpt).value === true"
          children:
            - $formkit: switch
              name: animation
              id: excerpt_animation
              label: å¯ç”¨æ‰“å­—æœºæ•ˆæœ
              value: true
            - $formkit: number
              name: speed
              label: æ‰“å­—é€Ÿåº¦ï¼ˆæ¯«ç§’/å­—ï¼‰
              value: 50
              min: 10
              max: 200
              help: æ•°å€¼è¶Šå°æ‰“å­—è¶Šå¿«ï¼Œå»ºè®® 30-80
              if: "$get(excerpt_animation).value === true"
            - $formkit: text
              name: caret
              label: å…‰æ ‡å­—ç¬¦
              value: "_"
              help: æ‰“å­—æ—¶æ˜¾ç¤ºçš„å…‰æ ‡ç¬¦å·
              if: "$get(excerpt_animation).value === true"
        - $formkit: group
          name: outdated_notice
          label: è¿‡æ—¶æ–‡ç« æç¤º
          help: å½“æ–‡ç« å‘å¸ƒæ—¶é—´è¶…è¿‡è®¾å®šå¤©æ•°æ—¶ï¼Œæ˜¾ç¤ºè¿‡æ—¶æé†’
          children:
            - $formkit: switch
              name: enabled
              id: outdated_enabled
              label: å¯ç”¨è¿‡æ—¶æç¤º
              value: true
            - $formkit: number
              name: days
              label: è¿‡æ—¶å¤©æ•°
              value: 180
              min: 1
              max: 3650
              help: æ–‡ç« å‘å¸ƒè¶…è¿‡æ­¤å¤©æ•°åæ˜¾ç¤ºè¿‡æ—¶æç¤º
              if: "$get(outdated_enabled).value === true"
              validation: required|min:1|max:3650
            - $formkit: text
              name: message
              label: æç¤ºæ–‡æ¡ˆ
              value: "æœ¬æ–‡å‘å¸ƒäº {days} å¤©å‰ï¼Œå†…å®¹å¯èƒ½å·²è¿‡æ—¶ï¼Œè¯·æ³¨æ„ç”„åˆ«ã€‚"
              help: ä½¿ç”¨ {days} ä½œä¸ºå®é™…å¤©æ•°çš„å ä½ç¬¦
              if: "$get(outdated_enabled).value === true"
              validation: required
    - group: links
      label: å‹é“¾é¡µé¢
      formSchema:
        - $formkit: text
          name: title
          label: é¡µé¢æ ‡é¢˜
          value: å‹é“¾
          placeholder: å‹é“¾
          validation: required
        - $formkit: switch
          name: enable_random
          label: å¯ç”¨éšæœºè®¿é—®
          value: true
          help: å¼€å¯åæ˜¾ç¤ºéšæœºå‹é“¾è·³è½¬æŒ‰é’®
        - $formkit: group
          name: my_info
          label: æˆ‘çš„åšå®¢ä¿¡æ¯
          help: ç”¨äºå‹é“¾é¡µé¢å±•ç¤ºï¼Œç•™ç©ºåˆ™ä½¿ç”¨ç«™ç‚¹é»˜è®¤ä¿¡æ¯
          children:
            - $formkit: text
              name: title
              label: åšå®¢åç§°
              placeholder: ç•™ç©ºåˆ™ä½¿ç”¨ç«™ç‚¹æ ‡é¢˜
            - $formkit: url
              name: url
              label: ç½‘å€
              placeholder: ç•™ç©ºåˆ™ä½¿ç”¨ç«™ç‚¹åœ°å€
            - $formkit: attachment
              name: logo
              label: Logo
              accepts:
                - "image/*"
              help: ç•™ç©ºåˆ™ä½¿ç”¨ç«™ç‚¹ Logo
            - $formkit: text
              name: description
              label: æè¿°
              placeholder: ç•™ç©ºåˆ™ä½¿ç”¨ç«™ç‚¹å‰¯æ ‡é¢˜
            - $formkit: url
              name: rss
              label: RSS åœ°å€
              placeholder: å¦‚ /rss.xml
        - $formkit: switch
          name: enable_submit
          id: enable_submit
          label: å¯ç”¨è‡ªä¸»æäº¤
          value: false
          help: å¼€å¯åè®¿å®¢å¯è‡ªåŠ©æäº¤å‹é“¾ç”³è¯·
        - $el: div
          if: "$get(enable_submit).value === true"
          attrs:
            class: "text-sm"
            style: |
              display: inline-block;
              margin-top: 0.5rem;
              padding: 0.5rem 0.75rem;
              background: #fffbeb;
              border-radius: 0.375rem;
              border: 1px solid #fcd34d;
          children:
            - $el: span
              attrs:
                style: "color: #92400e;"
              children: "âš ï¸ éœ€è¦å®‰è£… "
            - $el: a
              attrs:
                href: "https://auth.muyin.site/archives/LinksSubmit"
                target: "_blank"
                style: |
                  color: #d97706;
                  text-decoration: underline;
              children: "å‹é“¾è‡ªä¸»æäº¤æ’ä»¶"
        - $formkit: select
          name: verify_type
          label: éªŒè¯æ–¹å¼
          value: email
          help: é€‰æ‹©æäº¤æ—¶çš„éªŒè¯æ–¹å¼ï¼ˆåªèƒ½é€‰ä¸€ç§ï¼‰
          if: "$get(enable_submit).value === true"
          options:
            - label: é‚®ç®±éªŒè¯ç 
              value: email
            - label: å›¾å½¢éªŒè¯ç 
              value: captcha
            - label: æ— éœ€éªŒè¯
              value: none
        - $formkit: switch
          name: enable_update
          label: å…è®¸ä¿®æ”¹å‹é“¾
          value: false
          help: å¼€å¯åå·²æäº¤çš„å‹é“¾å¯å‡­é‚®ç®±éªŒè¯ä¿®æ”¹ä¿¡æ¯
          if: "$get(enable_submit).value === true"
        - $formkit: code
          name: title_font_css
          label: å‹é“¾æ ‡é¢˜å­—ä½“æ ·å¼
          language: css
          height: 150px
          help: å¡«å†™ @font-face ä»£ç ï¼Œfont-family å¿…é¡»æ”¹ä¸º "Links Title Font"ï¼ˆå¦‚é˜¿é‡Œå¦ˆå¦ˆæ–¹åœ†ä½“ï¼‰ï¼Œç•™ç©ºåˆ™ä½¿ç”¨ç³»ç»Ÿå­—ä½“ï¼ˆè‹¹æ–¹/å¾®è½¯é›…é»‘ï¼‰
        - $formkit: textarea
          name: apply_content
          label: ç”³è¯·å‹é“¾è¯´æ˜
          value: |
            <p>æ¬¢è¿ä¸æˆ‘äº¤æ¢å‹é“¾ï¼è¯·åœ¨è¯„è®ºåŒºç•™ä¸‹ä½ çš„åšå®¢ä¿¡æ¯ï¼š</p>
            <ul>
              <li><strong>åšå®¢åç§°</strong>ï¼šä½ çš„åšå®¢æ ‡é¢˜</li>
              <li><strong>åšå®¢åœ°å€</strong>ï¼šä½ çš„åšå®¢ URL</li>
              <li><strong>åšå®¢æè¿°</strong>ï¼šä¸€å¥è¯ä»‹ç»</li>
              <li><strong>åšå®¢å¤´åƒ</strong>ï¼šLogo æˆ–å¤´åƒé“¾æ¥</li>
            </ul>
            <p>æˆ‘ä¼šå°½å¿«å®¡æ ¸å¹¶æ·»åŠ ä½ çš„å‹é“¾ã€‚</p>
          rows: 8
          help: æ”¯æŒ HTML æ ¼å¼
    - group: plugins
      label: æ’ä»¶é€‚é…
      formSchema:
        - $formkit: group
          name: moments
          label: ç¬é—´æ’ä»¶
          help: plugin-moments
          children:
            - $formkit: text
              name: title
              label: é¡µé¢æ ‡é¢˜
              value: ç¬é—´
              placeholder: ç¬é—´
              validation: required
            - $formkit: text
              name: moment_title
              label: ç¬é—´è¯¦æƒ…æ ‡é¢˜
              value: ç¬é—´è¯¦æƒ…
              placeholder: ç¬é—´è¯¦æƒ…
              validation: required
        - $formkit: group
          name: photos
          label: å›¾åº“æ’ä»¶
          help: plugin-photos
          children:
            - $formkit: text
              name: title
              label: é¡µé¢æ ‡é¢˜
              value: å›¾åº“
              placeholder: å›¾åº“
              validation: required
            - $formkit: text
              name: description
              label: é¡µé¢æè¿°
              value: è®°å½•ç”Ÿæ´»ä¸­çš„ç¾å¥½ç¬é—´
              placeholder: è®°å½•ç”Ÿæ´»ä¸­çš„ç¾å¥½ç¬é—´
    - group: custom
      label: è‡ªå®šä¹‰
      formSchema:
        - $formkit: array
          name: preconnect_urls
          label: é¢„è¿æ¥åŸŸå
          value: []
          help: "æ·»åŠ ç¬¬ä¸‰æ–¹æœåŠ¡åŸŸåä»¥æå‰å»ºç«‹è¿æ¥ï¼Œæå‡åŠ è½½é€Ÿåº¦ï¼ˆå¦‚ç»Ÿè®¡æœåŠ¡ã€CDN ç­‰ï¼‰"
          children:
            - $formkit: url
              name: url
              label: åŸŸå
              placeholder: https://hm.baidu.com
              validation: required
        - $formkit: radio
          name: title_type
          label: ç½‘é¡µæ ‡é¢˜åˆ†éš”ç¬¦
          help: é€‰æ‹©ç½‘é¡µæ ‡é¢˜çš„åˆ†éš”ç¬¦ï¼ˆæ¨ªçº¿æˆ–ç«–çº¿ï¼‰
          value: "vertical"
          options:
            - value: "vertical"
              label: ç«–çº¿ï¼ˆé¡µé¢ | ç½‘ç«™ï¼‰
            - value: "across"
              label: æ¨ªçº¿ï¼ˆé¡µé¢ - ç½‘ç«™ï¼‰
        - $formkit: switch
          name: img_alt
          label: å¯ç”¨å›¾ç‰‡ alt æ–‡æœ¬
          value: true
          help: å¼€å¯åå›¾ç‰‡å°†æ˜¾ç¤º alt æ–‡æœ¬
        - $formkit: switch
          name: enable_post_toc
          label: å¯ç”¨æ–‡ç« ç›®å½•
          value: true
          help: å¼€å¯åæ–‡ç« é¡µé¢å°†æ˜¾ç¤ºç›®å½•
        - $formkit: switch
          name: enable_page_toc
          label: å¯ç”¨ç‹¬ç«‹é¡µé¢ç›®å½•
          value: false
          help: å¼€å¯åéœ€è¦åœ¨é¡µé¢è®¾ç½®ä¸­å¯ç”¨ç›®å½•åŠŸèƒ½ç‹¬ç«‹é¡µé¢æ‰ä¼šæ˜¾ç¤ºç›®å½•
        - $formkit: date
          name: owner_birthday
          label: ä½ çš„ç”Ÿæ—¥
          value: "2001-01-01"
          help: ç”¨äºè®¡ç®—ä½ çš„å¹´é¾„
        - $formkit: switch
          name: archives_years
          id: archives_years
          label: åˆ‡æ¢å¹´é¾„æ¥æº
          value: true
          help: å¼€å¯åï¼Œå¹´é¾„æ¥æºä¸ºå»ºç«™æ—¶é—´ï¼Œå…³é—­åï¼Œå¹´é¾„æ¥æºä¸ºç½‘ç«™æ‹¥æœ‰è€…çš„ç”Ÿæ—¥
        - $formkit: switch
          onValue: true
          offValue: false
          name: enable_edit
          label: å¯ç”¨ç¼–è¾‘æŒ‰é’®
          value: false
          help: å¼€å¯åæ–‡ç« /é¡µé¢å°†æ˜¾ç¤ºç¼–è¾‘æŒ‰é’®
        - $formkit: switch
          onValue: true
          offValue: false
          name: enable_fancybox
          label: å…³é—­ FancyBox
          value: false
          help: å¦‚æœä½¿ç”¨äº†å…¶å®ƒç¯ç®±æ’ä»¶ï¼Œå¯ä»¥å…³é—­ FancyBox ç¯ç®±ï¼Œé¿å…é‡å¤åŠ è½½
        - $formkit: switch
          onValue: true
          offValue: false
          name: enable_page_jump
          label: å¯ç”¨åˆ†é¡µè·³è½¬
          value: false
          help: å¼€å¯ååˆ†é¡µå°†æ˜¾ç¤ºè·³è½¬åŠŸèƒ½
    - group: development
      label: å¼€å‘è®¾ç½®
      formSchema:
        - $formkit: switch
          name: enabled
          label: å¯ç”¨å¼€å‘æ¨¡å¼
          value: false
          help: ä»…ä¾›å¼€å‘ç¯å¢ƒä½¿ç”¨ï¼Œå¼€å¯æ­¤è®¾ç½®åï¼Œæ‰€æœ‰é™æ€èµ„æºç”± Vite å¼€å‘æœåŠ¡å™¨æä¾›ï¼Œéœ€è¦åœ¨æœ¬åœ°å¯åŠ¨ Vite æœåŠ¡ï¼ˆpnpm devï¼‰
