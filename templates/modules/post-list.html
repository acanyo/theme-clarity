<div class="post-list" th:fragment="list(posts)">
  <th:block th:replace="~{modules/order-toggle :: toolbar}" />

  <menu class="posts-container proper-height">
    <th:block th:each="post,iterStat : ${posts.items}">
      <article class="article-card card" th:style="'--delay: ' + ${iterStat.index * 0.05} + 's'">
        <a th:href="${post.status.permalink}">
          <img
            th:if="${not #strings.isEmpty(post.spec.cover)}"
            th:src="${post.spec.cover}"
            th:srcset="|${thumbnail.gen(post.spec.cover, 's')} 400w, ${thumbnail.gen(post.spec.cover, 'm')} 800w|"
            sizes="(max-width: 528px) 400px, 800px"
            class="article-cover"
            loading="lazy"
            th:alt="${post.spec.title}"
          />
          <div
            th:if="${#strings.isEmpty(post.spec.cover) and theme.config.post.default_cover != false}"
            class="article-cover default-cover"
          >
            <span class="default-cover-title" th:text="${post.spec.title}"></span>
          </div>
        </a>

        <div class="article-body">
          <h2 class="article-title text-creative">
            <a th:href="${post.status.permalink}" th:text="${post.spec.title}"></a>
            <th:block th:if="${post.spec.pinned}">
              <span class="hotpost">
                <svg
                  t="1765477590308"
                  class="icon"
                  viewBox="0 0 1024 1024"
                  version="1.1"
                  xmlns="http://www.w3.org/2000/svg"
                  p-id="9679"
                  width="200"
                  height="200"
                >
                  <path
                    d="M450 230c37.16-33.787 94.508-31.666 129 5l319 344c8.957 9.352 14 22.087 14 35 0 29.03-23.404 52.012-52 52H733a8 8 0 0 0-8 8v150c0 70.692-57.308 128-128 128H427c-70.692 0-128-57.308-128-128V674a8 8 0 0 0-8-8H164c-13.106 0.012-25.431-4.704-35-13v-1c-21.566-19.037-22.505-51.627-3-73l318-343c1.757-1.842 3.36-3.467 5-5z m78.351 57.65c-9.674-9.061-24.861-8.565-33.923 1.109L213.618 588.53A8 8 0 0 0 219.455 602H311c28.418 0 51.483 22.81 52 51v171c0 35.346 28.654 64 64 64h170c35.346 0 64-28.654 64-64V654c0.01-28.709 23.253-51.982 52-52h89.625a8 8 0 0 0 5.856-13.45l-278.97-299.735a24 24 0 0 0-1.16-1.164zM838 81c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32H182c-17.673 0-32-14.327-32-32 0-17.673 14.327-32 32-32h656z"
                    fill="#333333"
                    p-id="9680"
                  ></path>
                </svg>
              </span>
            </th:block>
          </h2>

          <p th:if="${post.status.excerpt}" class="article-description" th:text="${post.status.excerpt}"></p>

          <div class="article-info">
            <span class="info-item">
              <span class="icon-[ph--calendar-dots-bold]"></span>
              <time th:text="${#temporals.format(post.spec.publishTime, 'yyyy-MM-dd')}"></time>
            </span>

            <span th:if="${not #lists.isEmpty(post.categories)}" class="info-item article-category">
              <span class="icon-[ph--folder-bold]"></span>
              <a th:href="${post.categories[0].status.permalink}" th:text="${post.categories[0].spec.displayName}"></a>
            </span>

            <span class="info-item">
              <span class="icon-[ph--eye-bold]"></span>
              <span th:text="${post.stats.visit}">0</span>
            </span>

            <th:block th:replace="~{modules/author-capsule :: capsule(author=${post.owner})}" />
          </div>
        </div>
      </article>
    </th:block>
  </menu>

  <th:block th:replace="~{modules/pagination :: paginationIndex(data=${posts})}" />
</div>
