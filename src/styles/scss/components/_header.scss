@use "../variable" as *;

// ========================================
// 侧边栏头部区域
// ========================================
.clarity-header {
	display: flex;
	align-items: center;
	gap: 0.5em;
	position: relative;
	margin: clamp(1rem, 2rem, 5vh) 1rem min(1rem, 5vh);
	line-height: 1.4;
	color: var(--c-text);
	user-select: none;

	// 移动端头部：紧凑边距
	&.mobile-only {
		display: none;

		@media (max-width: $breakpoint-mobile) {
			display: flex;
			margin: 0 1rem 0.5rem;
			padding-top: max(0.5rem, env(safe-area-inset-top, 0));
			padding-bottom: 0.5rem;
		}
	}

	// 悬停时触发动画
	&:hover {
		.emoji-tail {
			opacity: 0.5;
		}

		.split-char {
			animation-play-state: running;
		}
	}
}

// ========================================
// Logo 图片
// ========================================
.clarity-logo {
	height: 3em;

	// 圆形样式（显示标题时使用）
	&.circle {
		width: 3em;
		border-radius: 2em;
		box-shadow: 2px 4px 1rem var(--ld-shadow);
	}
}

// ========================================
// 文字区域容器
// ========================================
.clarity-text {
	display: flex;
	flex-direction: column;
}

// ========================================
// 标题文字
// ========================================
.header-title {
	font-family: var(--font-logo);
	font-size: 1.5em;
	font-synthesis: none;
	font-weight: 600;
}

// ========================================
// 副标题
// ========================================
.header-subtitle {
	opacity: 0.5;
	font-family: var(--font-logo);
	font-size: 0.8em;
}

// ========================================
// 可变字体动画关键帧
// ========================================
@keyframes vf-weight {
	0% { font-weight: 600; }
	38.2% { font-weight: 300; }
	100% { font-weight: 900; }
}

@keyframes vf-bevel {
	from { font-variation-settings: "BEVL" 100; }
	to { font-variation-settings: "BEVL" 1; }
}

// ========================================
// Emoji 尾巴装饰
// ========================================
.emoji-tail {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(0, 1fr));
	align-content: center;
	justify-items: center;
	position: absolute;
	opacity: 0.2;
	inset: 0;
	font-size: 4rem;
	transition: opacity 1s;
	filter: blur(2px);
	pointer-events: none;
	z-index: -2;

	// Emoji 浮动动画
	> .split-char {
		animation: 5s infinite alternate emoji-floating;
		animation-delay: var(--delay);
		animation-play-state: paused;
	}
}

// ========================================
// Emoji 浮动动画关键帧
// ========================================
@keyframes emoji-floating {
	50% {
		transform: translate(-12px, -4px) scale(1.2);
		filter: blur(4px);
	}

	100% {
		transform: translate(-4px, -12px) scale(0.9);
		filter: blur(1px);
	}
}
